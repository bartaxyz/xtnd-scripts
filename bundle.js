!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1),n(2),n(3),n(4)},function(t,e){var n;n=function(){function t(t){this.timer=0,this.timerRefreshRate=60,this.timerDuration=5e3,this.section=t,this.carouselContent=this.section.getElementsByClassName("carousel-content")[0],this.controlsIndex=this.section.getElementsByClassName("carousel-controls-index")[0],this.controlsHandles=this.section.getElementsByClassName("carousel-controls-handle"),this.controlsHandleTimers=this.section.getElementsByClassName("carousel-controls-handle-timer"),this.initElementStates(),this.initEventListeners(),this.setIndex(0),this.timerTick()}return t.prototype.timerTick=function(){var t=this;this.timer+=1e3/this.timerRefreshRate,this.timer>this.timerDuration&&(this.timer=0,this.increaseIndex()),this.updateActiveControlHandle(),setTimeout((function(){t.timerTick()}),1e3/this.timerRefreshRate)},t.prototype.initElementStates=function(){[].forEach.call(this.controlsHandleTimers,(function(t){return t.style.width="0%"}))},t.prototype.initEventListeners=function(){var t=this;[].forEach.call(this.controlsHandles,(function(e,n){e.addEventListener("click",(function(){t.setIndex(n)}))}))},t.prototype.increaseIndex=function(){void 0!==this.currentIndex&&(this.currentIndex===this.controlsHandleTimers.length-1?this.setIndex(0):this.setIndex(this.currentIndex+1))},t.prototype.setIndex=function(t){this.timer=0,this.updateControlsHandles(this.currentIndex,t),this.currentIndex=t,this.setControlsIndex(this.currentIndex),this.updateCarouselContent()},t.prototype.setControlsIndex=function(t){this.controlsIndex&&(this.controlsIndex.textContent="0"+(t+1))},t.prototype.updateActiveControlHandle=function(){void 0!==this.currentIndex&&(this.controlsHandleTimers[this.currentIndex].style.width=100/this.timerDuration*this.timer+"%")},t.prototype.updateControlsHandles=function(t,e){void 0!==t&&(this.controlsHandleTimers[t].style.width="0%"),void 0!==e&&(this.controlsHandleTimers[e].style.width="100%")},t.prototype.updateCarouselContent=function(){this.carouselContent&&(this.carouselContent.style.marginLeft="-"+this.currentIndex+"00%")},t}(),window.Carousel=n,addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("carousel-section");t&&new n(t);for(var e=document.querySelectorAll('[data-component="carousel"]'),o=0;o<e.length;++o)new n(e[o]);var i=document.querySelectorAll("[data-icon=arrow-right-white]");[].forEach.call(i,(function(t){t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="16" viewBox="0 0 20 16"><path fill="currentColor" fill-rule="nonzero" d="M1.083 9.51l12.86-.006-4.052 4.061a1.054 1.054 0 0 0-.308.749c0 .282.11.549.308.747l.63.631c.198.198.463.308.744.308.282 0 .547-.109.745-.307l6.946-6.946c.2-.199.308-.464.307-.746.001-.284-.108-.549-.307-.748L12.01.307A1.046 1.046 0 0 0 11.265 0c-.281 0-.546.11-.744.307l-.63.631a1.043 1.043 0 0 0-.308.744c0 .282.11.532.308.73l4.098 4.084H1.069c-.581 0-1.069.5-1.069 1.08v.893c0 .58.502 1.042 1.083 1.042z" /></svg>'}))}))},function(t,e){var n;n=function(){function t(t){this.cartButton=t,this.initCartButtonWatcher()}return t.prototype.initCartButtonWatcher=function(){var t=this,e=0;setInterval((function(){if(t.cartButton.textContent){var n=parseInt(t.cartButton.textContent,10);e!==n&&(0===(e=n)?t.cartButton.classList.add("empty"):t.cartButton.classList.remove("empty"))}}),100)},t}(),addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll('[data-component="cart-button"]'),e=0;e<t.length;++e)new n(t[e])}))},function(t,e){var n,o,i,r,s=function(){r.style.display="flex",i.style.display="none",o.style.opacity="1",o.style.pointerEvents="",n&&n.playVideo(),document.body.style.height="100%",document.body.style.overflow="hidden"},c=function(){i.style.display="flex",r.style.display="none",o.style.opacity="0",o.style.pointerEvents="none",n&&n.stopVideo(),document.body.style.height="",document.body.style.overflow=""};addEventListener("DOMContentLoaded",(function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}));var l=function(){n=new(void 0).Player("intro-video",{height:"100%",width:"100%",videoId:"C-VqyDHpsf0",playerVars:{controls:0},events:{onReady:a,onStateChange:u}}),o=document.querySelector("#intro-video"),i=document.querySelector("[data-component=introPlayButton]"),r=document.querySelector("[data-component=introPauseButton]"),o&&i&&r&&(i.addEventListener("click",s),r.addEventListener("click",c),o.style.display="block",c())},a=function(t){},u=function(t){t.data==(void 0).PlayerState.PLAYING&&console.log("playing")};window.onYouTubeIframeAPIReady=function(){console.log("onYouTubeIframeAPIReady"),l()}},function(t,e){addEventListener("resize",(function(){if(innerWidth>767)return!1}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jYXJvdXNlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FydEJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50cm9WaWRlby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9nb0FuaW1hdGlvbi50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInNlY3Rpb24iLCJ0aW1lciIsInRpbWVyUmVmcmVzaFJhdGUiLCJ0aW1lckR1cmF0aW9uIiwidGhpcyIsImNhcm91c2VsQ29udGVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjb250cm9sc0luZGV4IiwiY29udHJvbHNIYW5kbGVzIiwiY29udHJvbHNIYW5kbGVUaW1lcnMiLCJpbml0RWxlbWVudFN0YXRlcyIsImluaXRFdmVudExpc3RlbmVycyIsInNldEluZGV4IiwidGltZXJUaWNrIiwiaW5jcmVhc2VJbmRleCIsInVwZGF0ZUFjdGl2ZUNvbnRyb2xIYW5kbGUiLCJzZXRUaW1lb3V0IiwiZm9yRWFjaCIsImhhbmRsZVRpbWVyIiwic3R5bGUiLCJ3aWR0aCIsImhhbmRsZSIsImluZGV4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRJbmRleCIsImxlbmd0aCIsInVwZGF0ZUNvbnRyb2xzSGFuZGxlcyIsInNldENvbnRyb2xzSW5kZXgiLCJ1cGRhdGVDYXJvdXNlbENvbnRlbnQiLCJ0ZXh0Q29udGVudCIsInByZXZJbmRleCIsIm5leHRJbmRleCIsIm1hcmdpbkxlZnQiLCJ3aW5kb3ciLCJDYXJvdXNlbCIsImNhcm91c2VsU2VjdGlvbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYXJvdXNlbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXJyb3dSaWdodFdoaXRlRWxlbWVudHMiLCJlbGVtZW50IiwiaW5uZXJIVE1MIiwiY2FydEJ1dHRvbiIsImluaXRDYXJ0QnV0dG9uV2F0Y2hlciIsIm51bWJlciIsInNldEludGVydmFsIiwiY3VycmVudE51bWJlciIsInBhcnNlSW50IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiQ2FydEJ1dHRvbiIsInBsYXllciIsInZpZGVvIiwicGxheUJ1dHRvbiIsInBhdXNlQnV0dG9uIiwicGxheVZpZGVvIiwiZGlzcGxheSIsIm9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwiYm9keSIsImhlaWdodCIsIm92ZXJmbG93IiwicGF1c2VWaWRlbyIsInN0b3BWaWRlbyIsInRhZyIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImluaXRJbnRyb1ZpZGVvUGxheWVyIiwiWVQiLCJQbGF5ZXIiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsImNvbnRyb2xzIiwiZXZlbnRzIiwib25SZWFkeSIsIm9uUGxheWVyUmVhZHkiLCJvblN0YXRlQ2hhbmdlIiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsInF1ZXJ5U2VsZWN0b3IiLCJldmVudCIsImRhdGEiLCJQbGF5ZXJTdGF0ZSIsIlBMQVlJTkciLCJjb25zb2xlIiwibG9nIiwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkiLCJp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QUM3QkosRUFBT25DLE1BQU13QyxRQUFVLElBQ3ZCTCxFQUFPbkMsTUFBTXlDLGNBQWdCLE9BQ3pCUCxHQUNGQSxFQUFPWSxZQXBCVDdCLFNBQVN5QixLQUFLMUMsTUFBTTJDLE9BQVMsR0FDN0IxQixTQUFTeUIsS0FBSzFDLE1BQU00QyxTQUFXLElBd0JqQ3hDLGlCQUFpQixvQkFBb0IsV0FFbkMsSUFBTTJDLEVBQU05QixTQUFTK0IsY0FBYyxVQUVuQ0QsRUFBSUUsSUFBTSxxQ0FDVixJQUFNQyxFQUFpQmpDLFNBQVNrQyxxQkFBcUIsVUFBVSxHQUMvREQsRUFBZ0JFLFdBQVlDLGFBQWFOLEVBQUtHLE1BS2hELElBQU1JLEVBQXVCLFdBQzNCcEIsRUFBUyxTQWpFUHFCLEdBaUVjQyxPQUFPLGNBQWUsQ0FDcENiLE9BQVEsT0FDUjFDLE1BQU8sT0FDUHdELFFBQVMsY0FDVEMsV0FBWSxDQUNWQyxTQUFVLEdBRVpDLE9BQVEsQ0FDTkMsUUFBU0MsRUFDVEMsY0FBZUMsS0FuRW5CN0IsRUFBUWxCLFNBQVNnRCxjQUFjLGdCQUMvQjdCLEVBQWFuQixTQUFTZ0QsY0FBYyxvQ0FDcEM1QixFQUFjcEIsU0FBU2dELGNBQWMscUNBRWhDOUIsR0FBVUMsR0FBZUMsSUFJOUJELEVBQVdoQyxpQkFBaUIsUUFBU2tDLEdBQ3JDRCxFQUFZakMsaUJBQWlCLFFBQVN5QyxHQUV0Q1YsRUFBTW5DLE1BQU11QyxRQUFVLFFBRXRCTSxNQTZESWlCLEVBQWdCLFNBQUNJLEtBSWpCRixFQUFzQixTQUFDRSxHQUN2QkEsRUFBTUMsWUF0RlJaLEdBc0ZtQmEsWUFBWUMsU0FDL0JDLFFBQVFDLElBQUksWUFJZnpELE9BQWUwRCx3QkFBMEIsV0FDeENGLFFBQVFDLElBQUksMkJBQ1pqQixNLGNDN0ZGbEQsaUJBQWlCLFVBQVUsV0FDekIsR0FBSXFFLFdBQWEsSUFDZixPQUFPIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBcIi4vY2Fyb3VzZWxcIjtcbmltcG9ydCBcIi4vY2FydEJ1dHRvblwiO1xuaW1wb3J0IFwiLi9pbnRyb1ZpZGVvXCI7XG5pbXBvcnQgXCIuL2xvZ29BbmltYXRpb25cIjtcbiIsIigoKSA9PiB7XG4gIGNsYXNzIENhcm91c2VsIHtcbiAgICBjdXJyZW50SW5kZXg/OiBudW1iZXI7XG5cbiAgICBzZWN0aW9uOiBIVE1MRWxlbWVudDtcbiAgICBjYXJvdXNlbENvbnRlbnQ6IEhUTUxFbGVtZW50O1xuICAgIGNvbnRyb2xzSW5kZXg6IEhUTUxEaXZFbGVtZW50IHwgbnVsbDtcbiAgICBjb250cm9sc0hhbmRsZXM6IEhUTUxDb2xsZWN0aW9uO1xuICAgIGNvbnRyb2xzSGFuZGxlVGltZXJzOiBIVE1MQ29sbGVjdGlvbjtcblxuICAgIHRpbWVyOiBudW1iZXIgPSAwO1xuICAgIHRpbWVyUmVmcmVzaFJhdGUgPSA2MDtcbiAgICB0aW1lckR1cmF0aW9uID0gNSAqIDEwMDA7XG5cbiAgICBjb25zdHJ1Y3RvcihzZWN0aW9uOiBIVE1MRGl2RWxlbWVudCkge1xuICAgICAgdGhpcy5zZWN0aW9uID0gc2VjdGlvbjtcbiAgICAgIHRoaXMuY2Fyb3VzZWxDb250ZW50ID0gdGhpcy5zZWN0aW9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgIFwiY2Fyb3VzZWwtY29udGVudFwiXG4gICAgICApWzBdIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgdGhpcy5jb250cm9sc0luZGV4ID0gdGhpcy5zZWN0aW9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgIFwiY2Fyb3VzZWwtY29udHJvbHMtaW5kZXhcIlxuICAgICAgKVswXSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVzID0gdGhpcy5zZWN0aW9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgIFwiY2Fyb3VzZWwtY29udHJvbHMtaGFuZGxlXCJcbiAgICAgICk7XG4gICAgICB0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzID0gdGhpcy5zZWN0aW9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgIFwiY2Fyb3VzZWwtY29udHJvbHMtaGFuZGxlLXRpbWVyXCJcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuaW5pdEVsZW1lbnRTdGF0ZXMoKTtcbiAgICAgIHRoaXMuaW5pdEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLnNldEluZGV4KDApO1xuXG4gICAgICB0aGlzLnRpbWVyVGljaygpO1xuICAgIH1cblxuICAgIHRpbWVyVGljaygpIHtcbiAgICAgIHRoaXMudGltZXIgKz0gMTAwMCAvIHRoaXMudGltZXJSZWZyZXNoUmF0ZTtcblxuICAgICAgaWYgKHRoaXMudGltZXIgPiB0aGlzLnRpbWVyRHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XG4gICAgICAgIHRoaXMuaW5jcmVhc2VJbmRleCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZUFjdGl2ZUNvbnRyb2xIYW5kbGUoKTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMudGltZXJUaWNrKCk7XG4gICAgICB9LCAxMDAwIC8gdGhpcy50aW1lclJlZnJlc2hSYXRlKTtcbiAgICB9XG5cbiAgICBpbml0RWxlbWVudFN0YXRlcygpIHtcbiAgICAgIFtdLmZvckVhY2guY2FsbChcbiAgICAgICAgdGhpcy5jb250cm9sc0hhbmRsZVRpbWVycyxcbiAgICAgICAgKGhhbmRsZVRpbWVyOiBIVE1MRWxlbWVudCkgPT4gKGhhbmRsZVRpbWVyLnN0eWxlLndpZHRoID0gXCIwJVwiKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpbml0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVzLFxuICAgICAgICAoaGFuZGxlOiBIVE1MRWxlbWVudCwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIGhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRJbmRleChpbmRleCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaW5jcmVhc2VJbmRleCgpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5jdXJyZW50SW5kZXggPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSB0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhpcy5zZXRJbmRleCgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0SW5kZXgodGhpcy5jdXJyZW50SW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgICB0aGlzLnRpbWVyID0gMDtcbiAgICAgIHRoaXMudXBkYXRlQ29udHJvbHNIYW5kbGVzKHRoaXMuY3VycmVudEluZGV4LCBpbmRleCk7XG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgdGhpcy5zZXRDb250cm9sc0luZGV4KHRoaXMuY3VycmVudEluZGV4KTtcbiAgICAgIHRoaXMudXBkYXRlQ2Fyb3VzZWxDb250ZW50KCk7XG4gICAgfVxuXG4gICAgc2V0Q29udHJvbHNJbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgICBpZiAoIXRoaXMuY29udHJvbHNJbmRleCkgcmV0dXJuO1xuICAgICAgdGhpcy5jb250cm9sc0luZGV4LnRleHRDb250ZW50ID0gYDAke2luZGV4ICsgMX1gO1xuICAgIH1cblxuICAgIHVwZGF0ZUFjdGl2ZUNvbnRyb2xIYW5kbGUoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuY3VycmVudEluZGV4ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICh0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzW1xuICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4XG4gICAgICAgIF0gYXMgSFRNTERpdkVsZW1lbnQpLnN0eWxlLndpZHRoID0gYCR7XG4gICAgICAgICAgKDEwMCAvIHRoaXMudGltZXJEdXJhdGlvbikgKiB0aGlzLnRpbWVyXG4gICAgICAgIH0lYDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVDb250cm9sc0hhbmRsZXMocHJldkluZGV4PzogbnVtYmVyLCBuZXh0SW5kZXg/OiBudW1iZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJldkluZGV4ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICh0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzW3ByZXZJbmRleF0gYXMgSFRNTERpdkVsZW1lbnQpLnN0eWxlLndpZHRoID1cbiAgICAgICAgICBcIjAlXCI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG5leHRJbmRleCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAodGhpcy5jb250cm9sc0hhbmRsZVRpbWVyc1tuZXh0SW5kZXhdIGFzIEhUTUxEaXZFbGVtZW50KS5zdHlsZS53aWR0aCA9XG4gICAgICAgICAgXCIxMDAlXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ2Fyb3VzZWxDb250ZW50KCkge1xuICAgICAgaWYgKCF0aGlzLmNhcm91c2VsQ29udGVudCkgcmV0dXJuO1xuICAgICAgdGhpcy5jYXJvdXNlbENvbnRlbnQuc3R5bGUubWFyZ2luTGVmdCA9IGAtJHt0aGlzLmN1cnJlbnRJbmRleH0wMCVgO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJhY2tncm91bmRJbWFnZVBvc2l0aW9uID0ge1xuICAgIGRlc2t0b3A6IFt7IGJhY2tncm91bmRQb3NpdGlvblg6IDE3LCBiYWNrZ3JvdW5kU2l6ZTogXCJhdXRvIDI1MCVcIiB9XSxcbiAgICBwaG9uZToge30sXG4gIH07XG5cbiAgKHdpbmRvdyBhcyBhbnkpLkNhcm91c2VsID0gQ2Fyb3VzZWw7XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNhcm91c2VsU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgXCJjYXJvdXNlbC1zZWN0aW9uXCJcbiAgICApIGFzIEhUTUxEaXZFbGVtZW50O1xuXG4gICAgaWYgKGNhcm91c2VsU2VjdGlvbikge1xuICAgICAgbmV3IENhcm91c2VsKGNhcm91c2VsU2VjdGlvbik7XG4gICAgfVxuXG4gICAgY29uc3QgY2Fyb3VzZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29tcG9uZW50PVwiY2Fyb3VzZWxcIl0nKTtcblxuICAgIGZvciggbGV0IGkgPSAwOyBpIDwgY2Fyb3VzZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICBuZXcgQ2Fyb3VzZWwoY2Fyb3VzZWxzW2ldIGFzIEhUTUxEaXZFbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBJbmplY3QgU1ZHIEljb25zXG4gICAgY29uc3QgYXJyb3dSaWdodFdoaXRlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgXCJbZGF0YS1pY29uPWFycm93LXJpZ2h0LXdoaXRlXVwiXG4gICAgKTtcbiAgICBbXS5mb3JFYWNoLmNhbGwoYXJyb3dSaWdodFdoaXRlRWxlbWVudHMsIChlbGVtZW50OiBIVE1MRGl2RWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPVxuICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyMCAxNlwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIgZD1cIk0xLjA4MyA5LjUxbDEyLjg2LS4wMDYtNC4wNTIgNC4wNjFhMS4wNTQgMS4wNTQgMCAwIDAtLjMwOC43NDljMCAuMjgyLjExLjU0OS4zMDguNzQ3bC42My42MzFjLjE5OC4xOTguNDYzLjMwOC43NDQuMzA4LjI4MiAwIC41NDctLjEwOS43NDUtLjMwN2w2Ljk0Ni02Ljk0NmMuMi0uMTk5LjMwOC0uNDY0LjMwNy0uNzQ2LjAwMS0uMjg0LS4xMDgtLjU0OS0uMzA3LS43NDhMMTIuMDEuMzA3QTEuMDQ2IDEuMDQ2IDAgMCAwIDExLjI2NSAwYy0uMjgxIDAtLjU0Ni4xMS0uNzQ0LjMwN2wtLjYzLjYzMWExLjA0MyAxLjA0MyAwIDAgMC0uMzA4Ljc0NGMwIC4yODIuMTEuNTMyLjMwOC43M2w0LjA5OCA0LjA4NEgxLjA2OWMtLjU4MSAwLTEuMDY5LjUtMS4wNjkgMS4wOHYuODkzYzAgLjU4LjUwMiAxLjA0MiAxLjA4MyAxLjA0MnpcIiAvPjwvc3ZnPic7XG4gICAgfSk7XG4gIH0pO1xufSkoKTtcbiIsIigoKSA9PiB7XG4gIGNsYXNzIENhcnRCdXR0b24ge1xuICAgIGNhcnRJdGVtcz86IG51bWJlcjtcblxuICAgIGNhcnRCdXR0b246IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoY2FydEJ1dHRvbjogSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgIHRoaXMuY2FydEJ1dHRvbiA9IGNhcnRCdXR0b247XG5cbiAgICAgIHRoaXMuaW5pdENhcnRCdXR0b25XYXRjaGVyKCk7XG4gICAgfVxuXG4gICAgaW5pdENhcnRCdXR0b25XYXRjaGVyKCkge1xuICAgICAgbGV0IG51bWJlciA9IDA7XG4gICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5jYXJ0QnV0dG9uLnRleHRDb250ZW50KSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY3VycmVudE51bWJlciA9IHBhcnNlSW50KHRoaXMuY2FydEJ1dHRvbi50ZXh0Q29udGVudCwgMTApO1xuXG4gICAgICAgIGlmIChudW1iZXIgPT09IGN1cnJlbnROdW1iZXIpIHJldHVybjtcblxuICAgICAgICBudW1iZXIgPSBjdXJyZW50TnVtYmVyO1xuXG4gICAgICAgIGlmIChudW1iZXIgPT09IDApIHtcbiAgICAgICAgICB0aGlzLmNhcnRCdXR0b24uY2xhc3NMaXN0LmFkZChcImVtcHR5XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2FydEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZW1wdHlcIik7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNhcm91c2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnW2RhdGEtY29tcG9uZW50PVwiY2FydC1idXR0b25cIl0nXG4gICAgKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2Fyb3VzZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICBuZXcgQ2FydEJ1dHRvbihjYXJvdXNlbHNbaV0gYXMgSFRNTERpdkVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuIiwibGV0IFlUOiBhbnk7XG5sZXQgcGxheWVyOiBhbnk7XG5sZXQgdmlkZW86IEhUTUxEaXZFbGVtZW50IHwgbnVsbDtcbmxldCBwbGF5QnV0dG9uOiBIVE1MRGl2RWxlbWVudCB8IG51bGw7XG5sZXQgcGF1c2VCdXR0b246IEhUTUxEaXZFbGVtZW50IHwgbnVsbDtcblxuY29uc3QgaW5pdE1lZGlhID0gKCkgPT4ge1xuICB2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW50cm8tdmlkZW9cIik7XG4gIHBsYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY29tcG9uZW50PWludHJvUGxheUJ1dHRvbl1cIik7XG4gIHBhdXNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWNvbXBvbmVudD1pbnRyb1BhdXNlQnV0dG9uXVwiKTtcblxuICBpZiAoIXZpZGVvIHx8ICFwbGF5QnV0dG9uIHx8ICFwYXVzZUJ1dHRvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHBsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHBsYXlWaWRlbyk7XG4gIHBhdXNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwYXVzZVZpZGVvKTtcblxuICB2aWRlby5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gIHBhdXNlVmlkZW8oKTtcbn07XG5cbmNvbnN0IGRpc2FibGVTY3JvbGxpbmcgPSAoKSA9PiB7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xufTtcbmNvbnN0IGVuYWJsZVNjcm9sbGluZyA9ICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIlwiO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcbn07XG5cbmNvbnN0IHBsYXlWaWRlbyA9ICgpID0+IHtcbiAgcGF1c2VCdXR0b24hLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgcGxheUJ1dHRvbiEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB2aWRlbyEuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICB2aWRlbyEuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiXCI7XG4gIGlmIChwbGF5ZXIpIHtcbiAgICBwbGF5ZXIucGxheVZpZGVvKCk7XG4gIH1cbiAgZGlzYWJsZVNjcm9sbGluZygpO1xufTtcbmNvbnN0IHBhdXNlVmlkZW8gPSAoKSA9PiB7XG4gIHBsYXlCdXR0b24hLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgcGF1c2VCdXR0b24hLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgdmlkZW8hLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgdmlkZW8hLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgaWYgKHBsYXllcikge1xuICAgIHBsYXllci5zdG9wVmlkZW8oKTtcbiAgfVxuICBlbmFibGVTY3JvbGxpbmcoKTtcbn07XG5cbmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgLy8gSW5pdCBZb3V0dWJlIEFQSVxuICBjb25zdCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuXG4gIHRhZy5zcmMgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGlcIjtcbiAgY29uc3QgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtcbiAgZmlyc3RTY3JpcHRUYWchLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcblxuICAvLyBJbml0IGN1c3RvbSBtZWRpYSBzY3JpcHRcbn0pO1xuXG5jb25zdCBpbml0SW50cm9WaWRlb1BsYXllciA9ICgpID0+IHtcbiAgcGxheWVyID0gbmV3IFlULlBsYXllcihcImludHJvLXZpZGVvXCIsIHtcbiAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICB2aWRlb0lkOiBcIkMtVnF5REhwc2YwXCIsXG4gICAgcGxheWVyVmFyczoge1xuICAgICAgY29udHJvbHM6IDBcbiAgICB9LFxuICAgIGV2ZW50czoge1xuICAgICAgb25SZWFkeTogb25QbGF5ZXJSZWFkeSxcbiAgICAgIG9uU3RhdGVDaGFuZ2U6IG9uUGxheWVyU3RhdGVDaGFuZ2VcbiAgICB9XG4gIH0pO1xuXG4gIGluaXRNZWRpYSgpO1xufTtcblxuY29uc3Qgb25QbGF5ZXJSZWFkeSA9IChldmVudDogYW55KSA9PiB7XG4gIC8vIGV2ZW50LnRhcmdldC5wbGF5VmlkZW8oKTtcbn07XG5cbmNvbnN0IG9uUGxheWVyU3RhdGVDaGFuZ2UgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICBpZiAoZXZlbnQuZGF0YSA9PSBZVC5QbGF5ZXJTdGF0ZS5QTEFZSU5HKSB7XG4gICAgY29uc29sZS5sb2coXCJwbGF5aW5nXCIpO1xuICB9XG59O1xuXG4od2luZG93IGFzIGFueSkub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHlcIik7XG4gIGluaXRJbnRyb1ZpZGVvUGxheWVyKCk7XG59O1xuIiwiYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XG4gIGlmIChpbm5lcldpZHRoID4gNzY3KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=