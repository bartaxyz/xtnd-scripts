!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1),n(2),n(3),n(4),n(5),n(6)},function(t,e){var n;n=function(){function t(t){var e=this;this.timer=0,this.timerRefreshRate=60,this.timerDuration=5e3,this.section=t,this.carouselContent=this.section.getElementsByClassName("carousel-content")[0],this.controlsIndex=this.section.getElementsByClassName("carousel-controls-index")[0],this.controlsHandles=this.section.getElementsByClassName("carousel-controls-handle"),this.controlsHandleTimers=this.section.getElementsByClassName("carousel-controls-handle-timer"),this.carouselContent.addEventListener("click",(function(){e.increaseIndex()})),this.initElementStates(),this.initEventListeners(),this.setIndex(0),this.timerTick()}return t.prototype.timerTick=function(){var t=this;this.timer+=1e3/this.timerRefreshRate,this.timer>this.timerDuration&&(this.timer=0,this.increaseIndex()),this.updateActiveControlHandle(),setTimeout((function(){t.timerTick()}),1e3/this.timerRefreshRate)},t.prototype.initElementStates=function(){[].forEach.call(this.controlsHandleTimers,(function(t){return t.style.width="0%"}))},t.prototype.initEventListeners=function(){var t=this;[].forEach.call(this.controlsHandles,(function(e,n){e.addEventListener("click",(function(){t.setIndex(n)}))}))},t.prototype.increaseIndex=function(){void 0!==this.currentIndex&&(this.currentIndex===this.controlsHandleTimers.length-1?this.setIndex(0):this.setIndex(this.currentIndex+1))},t.prototype.setIndex=function(t){this.timer=0,this.updateControlsHandles(this.currentIndex,t),this.currentIndex=t,this.setControlsIndex(this.currentIndex),this.updateCarouselContent()},t.prototype.setControlsIndex=function(t){this.controlsIndex&&(this.controlsIndex.textContent="0"+(t+1))},t.prototype.updateActiveControlHandle=function(){void 0!==this.currentIndex&&(this.controlsHandleTimers[this.currentIndex].style.width=100/this.timerDuration*this.timer+"%")},t.prototype.updateControlsHandles=function(t,e){void 0!==t&&(this.controlsHandleTimers[t].style.width="0%"),void 0!==e&&(this.controlsHandleTimers[e].style.width="100%")},t.prototype.updateCarouselContent=function(){this.carouselContent&&(this.carouselContent.style.marginLeft="-"+this.currentIndex+"00%")},t}(),window.Carousel=n,addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("carousel-section");t&&new n(t);for(var e=document.querySelectorAll('[data-component="carousel"]'),o=0;o<e.length;++o)new n(e[o]);var i=document.querySelectorAll("[data-icon=arrow-right-white]");[].forEach.call(i,(function(t){t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="16" viewBox="0 0 20 16"><path fill="currentColor" fill-rule="nonzero" d="M1.083 9.51l12.86-.006-4.052 4.061a1.054 1.054 0 0 0-.308.749c0 .282.11.549.308.747l.63.631c.198.198.463.308.744.308.282 0 .547-.109.745-.307l6.946-6.946c.2-.199.308-.464.307-.746.001-.284-.108-.549-.307-.748L12.01.307A1.046 1.046 0 0 0 11.265 0c-.281 0-.546.11-.744.307l-.63.631a1.043 1.043 0 0 0-.308.744c0 .282.11.532.308.73l4.098 4.084H1.069c-.581 0-1.069.5-1.069 1.08v.893c0 .58.502 1.042 1.083 1.042z" /></svg>'}))}))},function(t,e){var n;n=function(){function t(t){this.cartButton=t,this.initCartButtonWatcher()}return t.prototype.initCartButtonWatcher=function(){var t=this,e=0;setInterval((function(){if(t.cartButton.textContent){var n=parseInt(t.cartButton.textContent,10);e!==n&&(0===(e=n)?t.cartButton.classList.add("empty"):t.cartButton.classList.remove("empty"))}}),100)},t}(),addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll('[data-component="cart-button"]'),e=0;e<t.length;++e)new n(t[e])}))},function(t,e){var n,o,i,r,s=function(){r.style.display="flex",i.style.display="none",o.style.opacity="1",o.style.pointerEvents="",n&&n.playVideo(),document.body.style.height="100%",document.body.style.overflow="hidden"},c=function(){i.style.display="flex",r.style.display="none",o.style.opacity="0",o.style.pointerEvents="none",n&&n.stopVideo(),document.body.style.height="",document.body.style.overflow=""};addEventListener("DOMContentLoaded",(function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}));var a=function(){n=new(void 0).Player("intro-video",{height:"100%",width:"100%",videoId:"C-VqyDHpsf0",playerVars:{controls:0},events:{onReady:l,onStateChange:u}}),o=document.querySelector("#intro-video"),i=document.querySelector("[data-component=introPlayButton]"),r=document.querySelector("[data-component=introPauseButton]"),o&&i&&r&&(i.addEventListener("click",s),r.addEventListener("click",c),o.style.display="block",c())},l=function(t){},u=function(t){t.data==(void 0).PlayerState.PLAYING&&console.log("playing")};window.onYouTubeIframeAPIReady=function(){console.log("onYouTubeIframeAPIReady"),a()}},function(t,e){addEventListener("resize",(function(){if(innerWidth>767)return!1}))},function(t,e){var n;n=function(){function t(t){this.navigation=t,this.initOnScroll()}return t.prototype.initOnScroll=function(){var t=this;window.addEventListener("scroll",(function(){0===scrollY?t.navigation.classList.add("transparent"):t.navigation.classList.remove("transparent")}))},t}(),addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll('[data-component="navigation"]'),e=0;e<t.length;++e)new n(t[e])}))},function(t,e){var n;n=function(t){this.scrollTopButton=t,this.scrollTopButton.addEventListener("click",(function(){scrollTo(0,0)}))},addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll('[data-component="scroll-top"]'),e=0;e<t.length;++e)new n(t[e])}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jYXJvdXNlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FydEJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50cm9WaWRlby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9nb0FuaW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmF2aWdhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2Nyb2xsVG9wLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwic2VjdGlvbiIsInRpbWVyIiwidGltZXJSZWZyZXNoUmF0ZSIsInRpbWVyRHVyYXRpb24iLCJ0aGlzIiwiY2Fyb3VzZWxDb250ZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnRyb2xzSW5kZXgiLCJjb250cm9sc0hhbmRsZXMiLCJjb250cm9sc0hhbmRsZVRpbWVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbmNyZWFzZUluZGV4IiwiaW5pdEVsZW1lbnRTdGF0ZXMiLCJpbml0RXZlbnRMaXN0ZW5lcnMiLCJzZXRJbmRleCIsInRpbWVyVGljayIsInVwZGF0ZUFjdGl2ZUNvbnRyb2xIYW5kbGUiLCJzZXRUaW1lb3V0IiwiZm9yRWFjaCIsImhhbmRsZVRpbWVyIiwic3R5bGUiLCJ3aWR0aCIsImhhbmRsZSIsImluZGV4IiwiY3VycmVudEluZGV4IiwibGVuZ3RoIiwidXBkYXRlQ29udHJvbHNIYW5kbGVzIiwic2V0Q29udHJvbHNJbmRleCIsInVwZGF0ZUNhcm91c2VsQ29udGVudCIsInRleHRDb250ZW50IiwicHJldkluZGV4IiwibmV4dEluZGV4IiwibWFyZ2luTGVmdCIsIndpbmRvdyIsIkNhcm91c2VsIiwiY2Fyb3VzZWxTZWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhcm91c2VscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnJvd1JpZ2h0V2hpdGVFbGVtZW50cyIsImVsZW1lbnQiLCJpbm5lckhUTUwiLCJjYXJ0QnV0dG9uIiwiaW5pdENhcnRCdXR0b25XYXRjaGVyIiwibnVtYmVyIiwic2V0SW50ZXJ2YWwiLCJjdXJyZW50TnVtYmVyIiwicGFyc2VJbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJDYXJ0QnV0dG9uIiwicGxheWVyIiwidmlkZW8iLCJwbGF5QnV0dG9uIiwicGF1c2VCdXR0b24iLCJwbGF5VmlkZW8iLCJkaXNwbGF5Iiwib3BhY2l0eSIsInBvaW50ZXJFdmVudHMiLCJib2R5IiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJwYXVzZVZpZGVvIiwic3RvcFZpZGVvIiwidGFnIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImZpcnN0U2NyaXB0VGFnIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiaW5pdEludHJvVmlkZW9QbGF5ZXIiLCJZVCIsIlBsYXllciIsInZpZGVvSWQiLCJwbGF5ZXJWYXJzIiwiY29udHJvbHMiLCJldmVudHMiLCJvblJlYWR5Iiwib25QbGF5ZXJSZWFkeSIsIm9uU3RhdGVDaGFuZ2UiLCJvblBsYXllclN0YXRlQ2hhbmdlIiwicXVlcnlTZWxlY3RvciIsImV2ZW50IiwiZGF0YSIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsImNvbnNvbGUiLCJsb2ciLCJvbllvdVR1YmVJZnJhbWVBUElSZWFkeSIsImlubmVyV2lkdGgiLCJuYXZpZ2F0aW9uIiwiaW5pdE9uU2Nyb2xsIiwic2Nyb2xsWSIsIk5hdmlnYXRpb24iLCJzY3JvbGxUb3BCdXR0b24iLCJzY3JvbGxUbyIsIlNjcm9sbFRvcCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZC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QmEsWUFBWUMsU0FDL0JDLFFBQVFDLElBQUksWUFJZnpELE9BQWUwRCx3QkFBMEIsV0FDeENGLFFBQVFDLElBQUksMkJBQ1pqQixNLGNDN0ZGL0QsaUJBQWlCLFVBQVUsV0FDekIsR0FBSWtGLFdBQWEsSUFDZixPQUFPLE0sY0NGWCxJQUNFLGVBS0UsV0FBWUMsR0FDVnpGLEtBQUt5RixXQUFhQSxFQUVsQnpGLEtBQUswRixlQVlULE9BVEUsWUFBQUEsYUFBQSxzQkFDRTdELE9BQU92QixpQkFBaUIsVUFBVSxXQUNoQixJQUFacUYsUUFDRixFQUFLRixXQUFXNUMsVUFBVUMsSUFBSSxlQUU5QixFQUFLMkMsV0FBVzVDLFVBQVVFLE9BQU8sbUJBSXpDLEVBcEJBLEdBc0JBekMsaUJBQWlCLG9CQUFvQixXQUtuQyxJQUpBLElBQU00QixFQUFZRixTQUFTRyxpQkFDekIsaUNBR092RSxFQUFJLEVBQUdBLEVBQUlzRSxFQUFVYixTQUFVekQsRUFDdEMsSUFBSWdJLEVBQVcxRCxFQUFVdEUsUSxjQzdCL0IsSUFDRSxJQUdFLFNBQVlpSSxHQUNWN0YsS0FBSzZGLGdCQUFrQkEsRUFFdkI3RixLQUFLNkYsZ0JBQWdCdkYsaUJBQWlCLFNBQVMsV0FDN0N3RixTQUFTLEVBQUcsT0FLbEJ4RixpQkFBaUIsb0JBQW9CLFdBS25DLElBSkEsSUFBTTRCLEVBQVlGLFNBQVNHLGlCQUN6QixpQ0FHT3ZFLEVBQUksRUFBR0EsRUFBSXNFLEVBQVViLFNBQVV6RCxFQUN0QyxJQUFJbUksRUFBVTdELEVBQVV0RSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgXCIuL2Nhcm91c2VsXCI7XG5pbXBvcnQgXCIuL2NhcnRCdXR0b25cIjtcbmltcG9ydCBcIi4vaW50cm9WaWRlb1wiO1xuaW1wb3J0IFwiLi9sb2dvQW5pbWF0aW9uXCI7XG5pbXBvcnQgXCIuL25hdmlnYXRpb25cIjtcbmltcG9ydCBcIi4vc2Nyb2xsVG9wXCI7XG4iLCIoKCkgPT4ge1xuICBjbGFzcyBDYXJvdXNlbCB7XG4gICAgY3VycmVudEluZGV4PzogbnVtYmVyO1xuXG4gICAgc2VjdGlvbjogSFRNTEVsZW1lbnQ7XG4gICAgY2Fyb3VzZWxDb250ZW50OiBIVE1MRWxlbWVudDtcbiAgICBjb250cm9sc0luZGV4OiBIVE1MRGl2RWxlbWVudCB8IG51bGw7XG4gICAgY29udHJvbHNIYW5kbGVzOiBIVE1MQ29sbGVjdGlvbjtcbiAgICBjb250cm9sc0hhbmRsZVRpbWVyczogSFRNTENvbGxlY3Rpb247XG5cbiAgICB0aW1lcjogbnVtYmVyID0gMDtcbiAgICB0aW1lclJlZnJlc2hSYXRlID0gNjA7XG4gICAgdGltZXJEdXJhdGlvbiA9IDUgKiAxMDAwO1xuXG4gICAgY29uc3RydWN0b3Ioc2VjdGlvbjogSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgIHRoaXMuc2VjdGlvbiA9IHNlY3Rpb247XG4gICAgICB0aGlzLmNhcm91c2VsQ29udGVudCA9IHRoaXMuc2VjdGlvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgICBcImNhcm91c2VsLWNvbnRlbnRcIlxuICAgICAgKVswXSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgIHRoaXMuY29udHJvbHNJbmRleCA9IHRoaXMuc2VjdGlvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgICBcImNhcm91c2VsLWNvbnRyb2xzLWluZGV4XCJcbiAgICAgIClbMF0gYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICB0aGlzLmNvbnRyb2xzSGFuZGxlcyA9IHRoaXMuc2VjdGlvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgICBcImNhcm91c2VsLWNvbnRyb2xzLWhhbmRsZVwiXG4gICAgICApO1xuICAgICAgdGhpcy5jb250cm9sc0hhbmRsZVRpbWVycyA9IHRoaXMuc2VjdGlvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgICBcImNhcm91c2VsLWNvbnRyb2xzLWhhbmRsZS10aW1lclwiXG4gICAgICApO1xuXG4gICAgICB0aGlzLmNhcm91c2VsQ29udGVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+wqB7XG4gICAgICAgIHRoaXMuaW5jcmVhc2VJbmRleCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuaW5pdEVsZW1lbnRTdGF0ZXMoKTtcbiAgICAgIHRoaXMuaW5pdEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLnNldEluZGV4KDApO1xuXG4gICAgICB0aGlzLnRpbWVyVGljaygpO1xuICAgIH1cblxuICAgIHRpbWVyVGljaygpIHtcbiAgICAgIHRoaXMudGltZXIgKz0gMTAwMCAvIHRoaXMudGltZXJSZWZyZXNoUmF0ZTtcblxuICAgICAgaWYgKHRoaXMudGltZXIgPiB0aGlzLnRpbWVyRHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XG4gICAgICAgIHRoaXMuaW5jcmVhc2VJbmRleCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZUFjdGl2ZUNvbnRyb2xIYW5kbGUoKTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMudGltZXJUaWNrKCk7XG4gICAgICB9LCAxMDAwIC8gdGhpcy50aW1lclJlZnJlc2hSYXRlKTtcbiAgICB9XG5cbiAgICBpbml0RWxlbWVudFN0YXRlcygpIHtcbiAgICAgIFtdLmZvckVhY2guY2FsbChcbiAgICAgICAgdGhpcy5jb250cm9sc0hhbmRsZVRpbWVycyxcbiAgICAgICAgKGhhbmRsZVRpbWVyOiBIVE1MRWxlbWVudCkgPT4gKGhhbmRsZVRpbWVyLnN0eWxlLndpZHRoID0gXCIwJVwiKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpbml0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVzLFxuICAgICAgICAoaGFuZGxlOiBIVE1MRWxlbWVudCwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIGhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRJbmRleChpbmRleCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaW5jcmVhc2VJbmRleCgpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5jdXJyZW50SW5kZXggPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSB0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhpcy5zZXRJbmRleCgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0SW5kZXgodGhpcy5jdXJyZW50SW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgICB0aGlzLnRpbWVyID0gMDtcbiAgICAgIHRoaXMudXBkYXRlQ29udHJvbHNIYW5kbGVzKHRoaXMuY3VycmVudEluZGV4LCBpbmRleCk7XG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgdGhpcy5zZXRDb250cm9sc0luZGV4KHRoaXMuY3VycmVudEluZGV4KTtcbiAgICAgIHRoaXMudXBkYXRlQ2Fyb3VzZWxDb250ZW50KCk7XG4gICAgfVxuXG4gICAgc2V0Q29udHJvbHNJbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgICBpZiAoIXRoaXMuY29udHJvbHNJbmRleCkgcmV0dXJuO1xuICAgICAgdGhpcy5jb250cm9sc0luZGV4LnRleHRDb250ZW50ID0gYDAke2luZGV4ICsgMX1gO1xuICAgIH1cblxuICAgIHVwZGF0ZUFjdGl2ZUNvbnRyb2xIYW5kbGUoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuY3VycmVudEluZGV4ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICh0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzW1xuICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4XG4gICAgICAgIF0gYXMgSFRNTERpdkVsZW1lbnQpLnN0eWxlLndpZHRoID0gYCR7XG4gICAgICAgICAgKDEwMCAvIHRoaXMudGltZXJEdXJhdGlvbikgKiB0aGlzLnRpbWVyXG4gICAgICAgIH0lYDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVDb250cm9sc0hhbmRsZXMocHJldkluZGV4PzogbnVtYmVyLCBuZXh0SW5kZXg/OiBudW1iZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJldkluZGV4ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICh0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzW3ByZXZJbmRleF0gYXMgSFRNTERpdkVsZW1lbnQpLnN0eWxlLndpZHRoID1cbiAgICAgICAgICBcIjAlXCI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG5leHRJbmRleCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAodGhpcy5jb250cm9sc0hhbmRsZVRpbWVyc1tuZXh0SW5kZXhdIGFzIEhUTUxEaXZFbGVtZW50KS5zdHlsZS53aWR0aCA9XG4gICAgICAgICAgXCIxMDAlXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ2Fyb3VzZWxDb250ZW50KCkge1xuICAgICAgaWYgKCF0aGlzLmNhcm91c2VsQ29udGVudCkgcmV0dXJuO1xuICAgICAgdGhpcy5jYXJvdXNlbENvbnRlbnQuc3R5bGUubWFyZ2luTGVmdCA9IGAtJHt0aGlzLmN1cnJlbnRJbmRleH0wMCVgO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJhY2tncm91bmRJbWFnZVBvc2l0aW9uID0ge1xuICAgIGRlc2t0b3A6IFt7IGJhY2tncm91bmRQb3NpdGlvblg6IDE3LCBiYWNrZ3JvdW5kU2l6ZTogXCJhdXRvIDI1MCVcIiB9XSxcbiAgICBwaG9uZToge30sXG4gIH07XG5cbiAgKHdpbmRvdyBhcyBhbnkpLkNhcm91c2VsID0gQ2Fyb3VzZWw7XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNhcm91c2VsU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgXCJjYXJvdXNlbC1zZWN0aW9uXCJcbiAgICApIGFzIEhUTUxEaXZFbGVtZW50O1xuXG4gICAgaWYgKGNhcm91c2VsU2VjdGlvbikge1xuICAgICAgbmV3IENhcm91c2VsKGNhcm91c2VsU2VjdGlvbik7XG4gICAgfVxuXG4gICAgY29uc3QgY2Fyb3VzZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29tcG9uZW50PVwiY2Fyb3VzZWxcIl0nKTtcblxuICAgIGZvciggbGV0IGkgPSAwOyBpIDwgY2Fyb3VzZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICBuZXcgQ2Fyb3VzZWwoY2Fyb3VzZWxzW2ldIGFzIEhUTUxEaXZFbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBJbmplY3QgU1ZHIEljb25zXG4gICAgY29uc3QgYXJyb3dSaWdodFdoaXRlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgXCJbZGF0YS1pY29uPWFycm93LXJpZ2h0LXdoaXRlXVwiXG4gICAgKTtcbiAgICBbXS5mb3JFYWNoLmNhbGwoYXJyb3dSaWdodFdoaXRlRWxlbWVudHMsIChlbGVtZW50OiBIVE1MRGl2RWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPVxuICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyMCAxNlwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIgZD1cIk0xLjA4MyA5LjUxbDEyLjg2LS4wMDYtNC4wNTIgNC4wNjFhMS4wNTQgMS4wNTQgMCAwIDAtLjMwOC43NDljMCAuMjgyLjExLjU0OS4zMDguNzQ3bC42My42MzFjLjE5OC4xOTguNDYzLjMwOC43NDQuMzA4LjI4MiAwIC41NDctLjEwOS43NDUtLjMwN2w2Ljk0Ni02Ljk0NmMuMi0uMTk5LjMwOC0uNDY0LjMwNy0uNzQ2LjAwMS0uMjg0LS4xMDgtLjU0OS0uMzA3LS43NDhMMTIuMDEuMzA3QTEuMDQ2IDEuMDQ2IDAgMCAwIDExLjI2NSAwYy0uMjgxIDAtLjU0Ni4xMS0uNzQ0LjMwN2wtLjYzLjYzMWExLjA0MyAxLjA0MyAwIDAgMC0uMzA4Ljc0NGMwIC4yODIuMTEuNTMyLjMwOC43M2w0LjA5OCA0LjA4NEgxLjA2OWMtLjU4MSAwLTEuMDY5LjUtMS4wNjkgMS4wOHYuODkzYzAgLjU4LjUwMiAxLjA0MiAxLjA4MyAxLjA0MnpcIiAvPjwvc3ZnPic7XG4gICAgfSk7XG4gIH0pO1xufSkoKTtcbiIsIigoKSA9PiB7XG4gIGNsYXNzIENhcnRCdXR0b24ge1xuICAgIGNhcnRJdGVtcz86IG51bWJlcjtcblxuICAgIGNhcnRCdXR0b246IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoY2FydEJ1dHRvbjogSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgIHRoaXMuY2FydEJ1dHRvbiA9IGNhcnRCdXR0b247XG5cbiAgICAgIHRoaXMuaW5pdENhcnRCdXR0b25XYXRjaGVyKCk7XG4gICAgfVxuXG4gICAgaW5pdENhcnRCdXR0b25XYXRjaGVyKCkge1xuICAgICAgbGV0IG51bWJlciA9IDA7XG4gICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5jYXJ0QnV0dG9uLnRleHRDb250ZW50KSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY3VycmVudE51bWJlciA9IHBhcnNlSW50KHRoaXMuY2FydEJ1dHRvbi50ZXh0Q29udGVudCwgMTApO1xuXG4gICAgICAgIGlmIChudW1iZXIgPT09IGN1cnJlbnROdW1iZXIpIHJldHVybjtcblxuICAgICAgICBudW1iZXIgPSBjdXJyZW50TnVtYmVyO1xuXG4gICAgICAgIGlmIChudW1iZXIgPT09IDApIHtcbiAgICAgICAgICB0aGlzLmNhcnRCdXR0b24uY2xhc3NMaXN0LmFkZChcImVtcHR5XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2FydEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZW1wdHlcIik7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNhcm91c2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnW2RhdGEtY29tcG9uZW50PVwiY2FydC1idXR0b25cIl0nXG4gICAgKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2Fyb3VzZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICBuZXcgQ2FydEJ1dHRvbihjYXJvdXNlbHNbaV0gYXMgSFRNTERpdkVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuIiwibGV0IFlUOiBhbnk7XG5sZXQgcGxheWVyOiBhbnk7XG5sZXQgdmlkZW86IEhUTUxEaXZFbGVtZW50IHwgbnVsbDtcbmxldCBwbGF5QnV0dG9uOiBIVE1MRGl2RWxlbWVudCB8IG51bGw7XG5sZXQgcGF1c2VCdXR0b246IEhUTUxEaXZFbGVtZW50IHwgbnVsbDtcblxuY29uc3QgaW5pdE1lZGlhID0gKCkgPT4ge1xuICB2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW50cm8tdmlkZW9cIik7XG4gIHBsYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY29tcG9uZW50PWludHJvUGxheUJ1dHRvbl1cIik7XG4gIHBhdXNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWNvbXBvbmVudD1pbnRyb1BhdXNlQnV0dG9uXVwiKTtcblxuICBpZiAoIXZpZGVvIHx8ICFwbGF5QnV0dG9uIHx8ICFwYXVzZUJ1dHRvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHBsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHBsYXlWaWRlbyk7XG4gIHBhdXNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwYXVzZVZpZGVvKTtcblxuICB2aWRlby5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gIHBhdXNlVmlkZW8oKTtcbn07XG5cbmNvbnN0IGRpc2FibGVTY3JvbGxpbmcgPSAoKSA9PiB7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xufTtcbmNvbnN0IGVuYWJsZVNjcm9sbGluZyA9ICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIlwiO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcbn07XG5cbmNvbnN0IHBsYXlWaWRlbyA9ICgpID0+IHtcbiAgcGF1c2VCdXR0b24hLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgcGxheUJ1dHRvbiEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB2aWRlbyEuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICB2aWRlbyEuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiXCI7XG4gIGlmIChwbGF5ZXIpIHtcbiAgICBwbGF5ZXIucGxheVZpZGVvKCk7XG4gIH1cbiAgZGlzYWJsZVNjcm9sbGluZygpO1xufTtcbmNvbnN0IHBhdXNlVmlkZW8gPSAoKSA9PiB7XG4gIHBsYXlCdXR0b24hLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgcGF1c2VCdXR0b24hLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgdmlkZW8hLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgdmlkZW8hLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgaWYgKHBsYXllcikge1xuICAgIHBsYXllci5zdG9wVmlkZW8oKTtcbiAgfVxuICBlbmFibGVTY3JvbGxpbmcoKTtcbn07XG5cbmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgLy8gSW5pdCBZb3V0dWJlIEFQSVxuICBjb25zdCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuXG4gIHRhZy5zcmMgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGlcIjtcbiAgY29uc3QgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtcbiAgZmlyc3RTY3JpcHRUYWchLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcblxuICAvLyBJbml0IGN1c3RvbSBtZWRpYSBzY3JpcHRcbn0pO1xuXG5jb25zdCBpbml0SW50cm9WaWRlb1BsYXllciA9ICgpID0+IHtcbiAgcGxheWVyID0gbmV3IFlULlBsYXllcihcImludHJvLXZpZGVvXCIsIHtcbiAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICB2aWRlb0lkOiBcIkMtVnF5REhwc2YwXCIsXG4gICAgcGxheWVyVmFyczoge1xuICAgICAgY29udHJvbHM6IDBcbiAgICB9LFxuICAgIGV2ZW50czoge1xuICAgICAgb25SZWFkeTogb25QbGF5ZXJSZWFkeSxcbiAgICAgIG9uU3RhdGVDaGFuZ2U6IG9uUGxheWVyU3RhdGVDaGFuZ2VcbiAgICB9XG4gIH0pO1xuXG4gIGluaXRNZWRpYSgpO1xufTtcblxuY29uc3Qgb25QbGF5ZXJSZWFkeSA9IChldmVudDogYW55KSA9PiB7XG4gIC8vIGV2ZW50LnRhcmdldC5wbGF5VmlkZW8oKTtcbn07XG5cbmNvbnN0IG9uUGxheWVyU3RhdGVDaGFuZ2UgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICBpZiAoZXZlbnQuZGF0YSA9PSBZVC5QbGF5ZXJTdGF0ZS5QTEFZSU5HKSB7XG4gICAgY29uc29sZS5sb2coXCJwbGF5aW5nXCIpO1xuICB9XG59O1xuXG4od2luZG93IGFzIGFueSkub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHlcIik7XG4gIGluaXRJbnRyb1ZpZGVvUGxheWVyKCk7XG59O1xuIiwiYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XG4gIGlmIChpbm5lcldpZHRoID4gNzY3KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KTtcbiIsIigoKSA9PiB7XG4gIGNsYXNzIE5hdmlnYXRpb24ge1xuICAgIGNhcnRJdGVtcz86IG51bWJlcjtcblxuICAgIG5hdmlnYXRpb246IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IobmF2aWdhdGlvbjogSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgIHRoaXMubmF2aWdhdGlvbiA9IG5hdmlnYXRpb247XG5cbiAgICAgIHRoaXMuaW5pdE9uU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgaW5pdE9uU2Nyb2xsKCkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+wqB7XG4gICAgICAgIGlmIChzY3JvbGxZID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5hZGQoJ3RyYW5zcGFyZW50Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zcGFyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNhcm91c2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnW2RhdGEtY29tcG9uZW50PVwibmF2aWdhdGlvblwiXSdcbiAgICApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJvdXNlbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIG5ldyBOYXZpZ2F0aW9uKGNhcm91c2Vsc1tpXSBhcyBIVE1MRGl2RWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG4iLCIoKCkgPT4ge1xuICBjbGFzcyBTY3JvbGxUb3Age1xuICAgIHNjcm9sbFRvcEJ1dHRvbjogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihzY3JvbGxUb3BCdXR0b246IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICB0aGlzLnNjcm9sbFRvcEJ1dHRvbiA9IHNjcm9sbFRvcEJ1dHRvbjtcblxuICAgICAgdGhpcy5zY3JvbGxUb3BCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgY29uc3QgY2Fyb3VzZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICdbZGF0YS1jb21wb25lbnQ9XCJzY3JvbGwtdG9wXCJdJ1xuICAgICk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcm91c2Vscy5sZW5ndGg7ICsraSkge1xuICAgICAgbmV3IFNjcm9sbFRvcChjYXJvdXNlbHNbaV0gYXMgSFRNTERpdkVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==