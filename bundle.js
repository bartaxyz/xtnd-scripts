!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1),n(2),n(3),n(4),n(5)},function(t,e){var n;n=function(){function t(t){var e=this;this.timer=0,this.timerRefreshRate=60,this.timerDuration=5e3,this.section=t,this.carouselContent=this.section.getElementsByClassName("carousel-content")[0],this.controlsIndex=this.section.getElementsByClassName("carousel-controls-index")[0],this.controlsHandles=this.section.getElementsByClassName("carousel-controls-handle"),this.controlsHandleTimers=this.section.getElementsByClassName("carousel-controls-handle-timer"),this.carouselContent.addEventListener("click",(function(){e.increaseIndex()})),this.initElementStates(),this.initEventListeners(),this.setIndex(0),this.timerTick()}return t.prototype.timerTick=function(){var t=this;this.timer+=1e3/this.timerRefreshRate,this.timer>this.timerDuration&&(this.timer=0,this.increaseIndex()),this.updateActiveControlHandle(),setTimeout((function(){t.timerTick()}),1e3/this.timerRefreshRate)},t.prototype.initElementStates=function(){[].forEach.call(this.controlsHandleTimers,(function(t){return t.style.width="0%"}))},t.prototype.initEventListeners=function(){var t=this;[].forEach.call(this.controlsHandles,(function(e,n){e.addEventListener("click",(function(){t.setIndex(n)}))}))},t.prototype.increaseIndex=function(){void 0!==this.currentIndex&&(this.currentIndex===this.controlsHandleTimers.length-1?this.setIndex(0):this.setIndex(this.currentIndex+1))},t.prototype.setIndex=function(t){this.timer=0,this.updateControlsHandles(this.currentIndex,t),this.currentIndex=t,this.setControlsIndex(this.currentIndex),this.updateCarouselContent()},t.prototype.setControlsIndex=function(t){this.controlsIndex&&(this.controlsIndex.textContent="0"+(t+1))},t.prototype.updateActiveControlHandle=function(){void 0!==this.currentIndex&&(this.controlsHandleTimers[this.currentIndex].style.width=100/this.timerDuration*this.timer+"%")},t.prototype.updateControlsHandles=function(t,e){void 0!==t&&(this.controlsHandleTimers[t].style.width="0%"),void 0!==e&&(this.controlsHandleTimers[e].style.width="100%")},t.prototype.updateCarouselContent=function(){this.carouselContent&&(this.carouselContent.style.marginLeft="-"+this.currentIndex+"00%")},t}(),window.Carousel=n,addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("carousel-section");t&&new n(t);for(var e=document.querySelectorAll('[data-component="carousel"]'),i=0;i<e.length;++i)new n(e[i]);var o=document.querySelectorAll("[data-icon=arrow-right-white]");[].forEach.call(o,(function(t){t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="16" viewBox="0 0 20 16"><path fill="currentColor" fill-rule="nonzero" d="M1.083 9.51l12.86-.006-4.052 4.061a1.054 1.054 0 0 0-.308.749c0 .282.11.549.308.747l.63.631c.198.198.463.308.744.308.282 0 .547-.109.745-.307l6.946-6.946c.2-.199.308-.464.307-.746.001-.284-.108-.549-.307-.748L12.01.307A1.046 1.046 0 0 0 11.265 0c-.281 0-.546.11-.744.307l-.63.631a1.043 1.043 0 0 0-.308.744c0 .282.11.532.308.73l4.098 4.084H1.069c-.581 0-1.069.5-1.069 1.08v.893c0 .58.502 1.042 1.083 1.042z" /></svg>'}))}))},function(t,e){var n;n=function(){function t(t){this.cartButton=t,this.initCartButtonWatcher()}return t.prototype.initCartButtonWatcher=function(){var t=this,e=0;setInterval((function(){if(t.cartButton.textContent){var n=parseInt(t.cartButton.textContent,10);e!==n&&(0===(e=n)?t.cartButton.classList.add("empty"):t.cartButton.classList.remove("empty"))}}),100)},t}(),addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll('[data-component="cart-button"]'),e=0;e<t.length;++e)new n(t[e])}))},function(t,e){var n;n=function(){function t(t){this.navigation=t,this.initNavigation()}return t.prototype.initNavigation=function(){var t=this,e=function(){0===scrollY?t.navigation.classList.add("transparent"):t.navigation.classList.remove("transparent")};window.addEventListener("scroll",e),window.addEventListener("DOMContentLoaded",e)},t}(),addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll('[data-component="navigation"]'),e=0;e<t.length;++e)new n(t[e])}))},function(t,e){var n;n=function(t){this.scrollTopButton=t,this.scrollTopButton.addEventListener("click",(function(){scrollTo(0,0)}))},addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll('[data-component="scroll-top"]'),e=0;e<t.length;++e)new n(t[e])}))},function(t,e){var n;n=function(){function t(t){var e=this;this.timer=0,this.timerRefreshRate=60,this.timerDuration=5e3,this.section=t,this.carouselContent=this.section.getElementsByClassName("showcase-carousel-content")[0],this.carouselSlides=this.carouselContent.getElementsByClassName("showcase-carousel-content-slide"),this.controlsHandles=this.section.getElementsByClassName("showcase-carousel-controls-handle"),this.controlsHandleTimers=this.section.getElementsByClassName("showcase-carousel-controls-handle-timer"),this.carouselContent.addEventListener("click",(function(){e.increaseIndex()})),this.initElementStates(),this.initEventListeners(),this.setIndex(0),this.timerTick()}return t.prototype.timerTick=function(){var t=this;this.timer+=1e3/this.timerRefreshRate,this.timer>this.timerDuration&&(this.timer=0,this.increaseIndex()),this.updateActiveControlHandle(),setTimeout((function(){t.timerTick()}),1e3/this.timerRefreshRate)},t.prototype.initElementStates=function(){[].forEach.call(this.controlsHandleTimers,(function(t){return t.style.flexGrow="0"})),[].forEach.call(this.carouselSlides,(function(t,e){t.style.opacity=0===e?"1":"0"}))},t.prototype.initEventListeners=function(){var t=this;[].forEach.call(this.controlsHandles,(function(e,n){e.addEventListener("click",(function(){t.setIndex(n)}))}))},t.prototype.increaseIndex=function(){void 0!==this.currentIndex&&(this.currentIndex===this.controlsHandleTimers.length-1?this.setIndex(0):this.setIndex(this.currentIndex+1))},t.prototype.setIndex=function(t){this.timer=0,this.currentIndex=t,this.updateControlsHandles(),this.updateCarouselContent()},t.prototype.updateActiveControlHandle=function(){void 0!==this.currentIndex&&(this.controlsHandleTimers[this.currentIndex].style.flexGrow=""+1/this.timerDuration*this.timer)},t.prototype.updateControlsHandles=function(){var t=this;[].forEach.call(this.controlsHandles,(function(e,n){n===t.currentIndex?(e.style.opacity="1",e.style.height="64px"):(e.style.opacity="0.4",e.style.height="48px")})),[].forEach.call(this.controlsHandleTimers,(function(t){return t.style.flexGrow="0"}))},t.prototype.updateCarouselContent=function(){var t=this;[].forEach.call(this.carouselSlides,(function(e,n){n===t.currentIndex?e.style.opacity="1":e.style.opacity="0"}))},t}(),window.ShowcaseCarousel=n,addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll('[data-component="showcase-carousel"]'),e=0;e<t.length;++e)new n(t[e])}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jYXJvdXNlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FydEJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmF2aWdhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2Nyb2xsVG9wLnRzIiwid2VicGFjazovLy8uL3NyYy9zaG93Y2FzZUNhcm91c2VsLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwic2VjdGlvbiIsInRpbWVyIiwidGltZXJSZWZyZXNoUmF0ZSIsInRpbWVyRHVyYXRpb24iLCJ0aGlzIiwiY2Fyb3VzZWxDb250ZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnRyb2xzSW5kZXgiLCJjb250cm9sc0hhbmRsZXMiLCJjb250cm9sc0hhbmRsZVRpbWVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbmNyZWFzZUluZGV4IiwiaW5pdEVsZW1lbnRTdGF0ZXMiLCJpbml0RXZlbnRMaXN0ZW5lcnMiLCJzZXRJbmRleCIsInRpbWVyVGljayIsInVwZGF0ZUFjdGl2ZUNvbnRyb2xIYW5kbGUiLCJzZXRUaW1lb3V0IiwiZm9yRWFjaCIsImhhbmRsZVRpbWVyIiwic3R5bGUiLCJ3aWR0aCIsImhhbmRsZSIsImluZGV4IiwiY3VycmVudEluZGV4IiwibGVuZ3RoIiwidXBkYXRlQ29udHJvbHNIYW5kbGVzIiwic2V0Q29udHJvbHNJbmRleCIsInVwZGF0ZUNhcm91c2VsQ29udGVudCIsInRleHRDb250ZW50IiwicHJldkluZGV4IiwibmV4dEluZGV4IiwibWFyZ2luTGVmdCIsIndpbmRvdyIsIkNhcm91c2VsIiwiY2Fyb3VzZWxTZWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhcm91c2VscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnJvd1JpZ2h0V2hpdGVFbGVtZW50cyIsImVsZW1lbnQiLCJpbm5lckhUTUwiLCJjYXJ0QnV0dG9uIiwiaW5pdENhcnRCdXR0b25XYXRjaGVyIiwibnVtYmVyIiwic2V0SW50ZXJ2YWwiLCJjdXJyZW50TnVtYmVyIiwicGFyc2VJbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJDYXJ0QnV0dG9uIiwibmF2aWdhdGlvbiIsImluaXROYXZpZ2F0aW9uIiwiY2FsbGJhY2siLCJzY3JvbGxZIiwiTmF2aWdhdGlvbiIsInNjcm9sbFRvcEJ1dHRvbiIsInNjcm9sbFRvIiwiU2Nyb2xsVG9wIiwiY2Fyb3VzZWxTbGlkZXMiLCJmbGV4R3JvdyIsInNsaWRlIiwib3BhY2l0eSIsImhlaWdodCIsIlNob3djYXNlQ2Fyb3VzZWwiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFH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ImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgXCIuL2Nhcm91c2VsXCI7XG5pbXBvcnQgXCIuL2NhcnRCdXR0b25cIjtcbmltcG9ydCBcIi4vbmF2aWdhdGlvblwiO1xuaW1wb3J0IFwiLi9zY3JvbGxUb3BcIjtcbmltcG9ydCBcIi4vc2hvd2Nhc2VDYXJvdXNlbFwiO1xuIiwiKCgpID0+IHtcbiAgY2xhc3MgQ2Fyb3VzZWwge1xuICAgIGN1cnJlbnRJbmRleD86IG51bWJlcjtcblxuICAgIHNlY3Rpb246IEhUTUxFbGVtZW50O1xuICAgIGNhcm91c2VsQ29udGVudDogSFRNTEVsZW1lbnQ7XG4gICAgY29udHJvbHNJbmRleDogSFRNTERpdkVsZW1lbnQgfCBudWxsO1xuICAgIGNvbnRyb2xzSGFuZGxlczogSFRNTENvbGxlY3Rpb247XG4gICAgY29udHJvbHNIYW5kbGVUaW1lcnM6IEhUTUxDb2xsZWN0aW9uO1xuXG4gICAgdGltZXI6IG51bWJlciA9IDA7XG4gICAgdGltZXJSZWZyZXNoUmF0ZSA9IDYwO1xuICAgIHRpbWVyRHVyYXRpb24gPSA1ICogMTAwMDtcblxuICAgIGNvbnN0cnVjdG9yKHNlY3Rpb246IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICB0aGlzLnNlY3Rpb24gPSBzZWN0aW9uO1xuICAgICAgdGhpcy5jYXJvdXNlbENvbnRlbnQgPSB0aGlzLnNlY3Rpb24uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgICAgXCJjYXJvdXNlbC1jb250ZW50XCJcbiAgICAgIClbMF0gYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICB0aGlzLmNvbnRyb2xzSW5kZXggPSB0aGlzLnNlY3Rpb24uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgICAgXCJjYXJvdXNlbC1jb250cm9scy1pbmRleFwiXG4gICAgICApWzBdIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgdGhpcy5jb250cm9sc0hhbmRsZXMgPSB0aGlzLnNlY3Rpb24uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgICAgXCJjYXJvdXNlbC1jb250cm9scy1oYW5kbGVcIlxuICAgICAgKTtcbiAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVUaW1lcnMgPSB0aGlzLnNlY3Rpb24uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgICAgXCJjYXJvdXNlbC1jb250cm9scy1oYW5kbGUtdGltZXJcIlxuICAgICAgKTtcblxuICAgICAgdGhpcy5jYXJvdXNlbENvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PsKge1xuICAgICAgICB0aGlzLmluY3JlYXNlSW5kZXgoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmluaXRFbGVtZW50U3RhdGVzKCk7XG4gICAgICB0aGlzLmluaXRFdmVudExpc3RlbmVycygpO1xuICAgICAgdGhpcy5zZXRJbmRleCgwKTtcblxuICAgICAgdGhpcy50aW1lclRpY2soKTtcbiAgICB9XG5cbiAgICB0aW1lclRpY2soKSB7XG4gICAgICB0aGlzLnRpbWVyICs9IDEwMDAgLyB0aGlzLnRpbWVyUmVmcmVzaFJhdGU7XG5cbiAgICAgIGlmICh0aGlzLnRpbWVyID4gdGhpcy50aW1lckR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMudGltZXIgPSAwO1xuICAgICAgICB0aGlzLmluY3JlYXNlSW5kZXgoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVBY3RpdmVDb250cm9sSGFuZGxlKCk7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnRpbWVyVGljaygpO1xuICAgICAgfSwgMTAwMCAvIHRoaXMudGltZXJSZWZyZXNoUmF0ZSk7XG4gICAgfVxuXG4gICAgaW5pdEVsZW1lbnRTdGF0ZXMoKSB7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVUaW1lcnMsXG4gICAgICAgIChoYW5kbGVUaW1lcjogSFRNTEVsZW1lbnQpID0+IChoYW5kbGVUaW1lci5zdHlsZS53aWR0aCA9IFwiMCVcIilcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaW5pdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgW10uZm9yRWFjaC5jYWxsKFxuICAgICAgICB0aGlzLmNvbnRyb2xzSGFuZGxlcyxcbiAgICAgICAgKGhhbmRsZTogSFRNTEVsZW1lbnQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0SW5kZXgoaW5kZXgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGluY3JlYXNlSW5kZXgoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuY3VycmVudEluZGV4ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG5cbiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gdGhpcy5jb250cm9sc0hhbmRsZVRpbWVycy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHRoaXMuc2V0SW5kZXgoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEluZGV4KHRoaXMuY3VycmVudEluZGV4ICsgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW5kZXgoaW5kZXg6IG51bWJlcikge1xuICAgICAgdGhpcy50aW1lciA9IDA7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xzSGFuZGxlcyh0aGlzLmN1cnJlbnRJbmRleCwgaW5kZXgpO1xuICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgIHRoaXMuc2V0Q29udHJvbHNJbmRleCh0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICB0aGlzLnVwZGF0ZUNhcm91c2VsQ29udGVudCgpO1xuICAgIH1cblxuICAgIHNldENvbnRyb2xzSW5kZXgoaW5kZXg6IG51bWJlcikge1xuICAgICAgaWYgKCF0aGlzLmNvbnRyb2xzSW5kZXgpIHJldHVybjtcbiAgICAgIHRoaXMuY29udHJvbHNJbmRleC50ZXh0Q29udGVudCA9IGAwJHtpbmRleCArIDF9YDtcbiAgICB9XG5cbiAgICB1cGRhdGVBY3RpdmVDb250cm9sSGFuZGxlKCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmN1cnJlbnRJbmRleCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAodGhpcy5jb250cm9sc0hhbmRsZVRpbWVyc1tcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleFxuICAgICAgICBdIGFzIEhUTUxEaXZFbGVtZW50KS5zdHlsZS53aWR0aCA9IGAke1xuICAgICAgICAgICgxMDAgLyB0aGlzLnRpbWVyRHVyYXRpb24pICogdGhpcy50aW1lclxuICAgICAgICB9JWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ29udHJvbHNIYW5kbGVzKHByZXZJbmRleD86IG51bWJlciwgbmV4dEluZGV4PzogbnVtYmVyKSB7XG4gICAgICBpZiAodHlwZW9mIHByZXZJbmRleCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAodGhpcy5jb250cm9sc0hhbmRsZVRpbWVyc1twcmV2SW5kZXhdIGFzIEhUTUxEaXZFbGVtZW50KS5zdHlsZS53aWR0aCA9XG4gICAgICAgICAgXCIwJVwiO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuZXh0SW5kZXggIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgKHRoaXMuY29udHJvbHNIYW5kbGVUaW1lcnNbbmV4dEluZGV4XSBhcyBIVE1MRGl2RWxlbWVudCkuc3R5bGUud2lkdGggPVxuICAgICAgICAgIFwiMTAwJVwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUNhcm91c2VsQ29udGVudCgpIHtcbiAgICAgIGlmICghdGhpcy5jYXJvdXNlbENvbnRlbnQpIHJldHVybjtcbiAgICAgIHRoaXMuY2Fyb3VzZWxDb250ZW50LnN0eWxlLm1hcmdpbkxlZnQgPSBgLSR7dGhpcy5jdXJyZW50SW5kZXh9MDAlYDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2VQb3NpdGlvbiA9IHtcbiAgICBkZXNrdG9wOiBbeyBiYWNrZ3JvdW5kUG9zaXRpb25YOiAxNywgYmFja2dyb3VuZFNpemU6IFwiYXV0byAyNTAlXCIgfV0sXG4gICAgcGhvbmU6IHt9LFxuICB9O1xuXG4gICh3aW5kb3cgYXMgYW55KS5DYXJvdXNlbCA9IENhcm91c2VsO1xuXG4gIGFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICBjb25zdCBjYXJvdXNlbFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwiY2Fyb3VzZWwtc2VjdGlvblwiXG4gICAgKSBhcyBIVE1MRGl2RWxlbWVudDtcblxuICAgIGlmIChjYXJvdXNlbFNlY3Rpb24pIHtcbiAgICAgIG5ldyBDYXJvdXNlbChjYXJvdXNlbFNlY3Rpb24pO1xuICAgIH1cblxuICAgIGNvbnN0IGNhcm91c2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbXBvbmVudD1cImNhcm91c2VsXCJdJyk7XG5cbiAgICBmb3IoIGxldCBpID0gMDsgaSA8IGNhcm91c2Vscy5sZW5ndGg7ICsraSkge1xuICAgICAgbmV3IENhcm91c2VsKGNhcm91c2Vsc1tpXSBhcyBIVE1MRGl2RWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gSW5qZWN0IFNWRyBJY29uc1xuICAgIGNvbnN0IGFycm93UmlnaHRXaGl0ZUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgIFwiW2RhdGEtaWNvbj1hcnJvdy1yaWdodC13aGl0ZV1cIlxuICAgICk7XG4gICAgW10uZm9yRWFjaC5jYWxsKGFycm93UmlnaHRXaGl0ZUVsZW1lbnRzLCAoZWxlbWVudDogSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID1cbiAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjAgMTZcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiIGQ9XCJNMS4wODMgOS41MWwxMi44Ni0uMDA2LTQuMDUyIDQuMDYxYTEuMDU0IDEuMDU0IDAgMCAwLS4zMDguNzQ5YzAgLjI4Mi4xMS41NDkuMzA4Ljc0N2wuNjMuNjMxYy4xOTguMTk4LjQ2My4zMDguNzQ0LjMwOC4yODIgMCAuNTQ3LS4xMDkuNzQ1LS4zMDdsNi45NDYtNi45NDZjLjItLjE5OS4zMDgtLjQ2NC4zMDctLjc0Ni4wMDEtLjI4NC0uMTA4LS41NDktLjMwNy0uNzQ4TDEyLjAxLjMwN0ExLjA0NiAxLjA0NiAwIDAgMCAxMS4yNjUgMGMtLjI4MSAwLS41NDYuMTEtLjc0NC4zMDdsLS42My42MzFhMS4wNDMgMS4wNDMgMCAwIDAtLjMwOC43NDRjMCAuMjgyLjExLjUzMi4zMDguNzNsNC4wOTggNC4wODRIMS4wNjljLS41ODEgMC0xLjA2OS41LTEuMDY5IDEuMDh2Ljg5M2MwIC41OC41MDIgMS4wNDIgMS4wODMgMS4wNDJ6XCIgLz48L3N2Zz4nO1xuICAgIH0pO1xuICB9KTtcbn0pKCk7XG4iLCIoKCkgPT4ge1xuICBjbGFzcyBDYXJ0QnV0dG9uIHtcbiAgICBjYXJ0SXRlbXM/OiBudW1iZXI7XG5cbiAgICBjYXJ0QnV0dG9uOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKGNhcnRCdXR0b246IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICB0aGlzLmNhcnRCdXR0b24gPSBjYXJ0QnV0dG9uO1xuXG4gICAgICB0aGlzLmluaXRDYXJ0QnV0dG9uV2F0Y2hlcigpO1xuICAgIH1cblxuICAgIGluaXRDYXJ0QnV0dG9uV2F0Y2hlcigpIHtcbiAgICAgIGxldCBudW1iZXIgPSAwO1xuICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuY2FydEJ1dHRvbi50ZXh0Q29udGVudCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnROdW1iZXIgPSBwYXJzZUludCh0aGlzLmNhcnRCdXR0b24udGV4dENvbnRlbnQsIDEwKTtcblxuICAgICAgICBpZiAobnVtYmVyID09PSBjdXJyZW50TnVtYmVyKSByZXR1cm47XG5cbiAgICAgICAgbnVtYmVyID0gY3VycmVudE51bWJlcjtcblxuICAgICAgICBpZiAobnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5jYXJ0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlbXB0eVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNhcnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVtcHR5XCIpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICBjb25zdCBjYXJvdXNlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJ1tkYXRhLWNvbXBvbmVudD1cImNhcnQtYnV0dG9uXCJdJ1xuICAgICk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcm91c2Vscy5sZW5ndGg7ICsraSkge1xuICAgICAgbmV3IENhcnRCdXR0b24oY2Fyb3VzZWxzW2ldIGFzIEhUTUxEaXZFbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufSkoKTtcbiIsIigoKSA9PiB7XG4gIGNsYXNzIE5hdmlnYXRpb24ge1xuICAgIGNhcnRJdGVtcz86IG51bWJlcjtcblxuICAgIG5hdmlnYXRpb246IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IobmF2aWdhdGlvbjogSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgIHRoaXMubmF2aWdhdGlvbiA9IG5hdmlnYXRpb247XG5cbiAgICAgIHRoaXMuaW5pdE5hdmlnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpbml0TmF2aWdhdGlvbigpIHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICBpZiAoc2Nyb2xsWSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QuYWRkKFwidHJhbnNwYXJlbnRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJ0cmFuc3BhcmVudFwiKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGNhbGxiYWNrKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNhcm91c2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnW2RhdGEtY29tcG9uZW50PVwibmF2aWdhdGlvblwiXSdcbiAgICApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJvdXNlbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIG5ldyBOYXZpZ2F0aW9uKGNhcm91c2Vsc1tpXSBhcyBIVE1MRGl2RWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG4iLCIoKCkgPT4ge1xuICBjbGFzcyBTY3JvbGxUb3Age1xuICAgIHNjcm9sbFRvcEJ1dHRvbjogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihzY3JvbGxUb3BCdXR0b246IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICB0aGlzLnNjcm9sbFRvcEJ1dHRvbiA9IHNjcm9sbFRvcEJ1dHRvbjtcblxuICAgICAgdGhpcy5zY3JvbGxUb3BCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgY29uc3QgY2Fyb3VzZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICdbZGF0YS1jb21wb25lbnQ9XCJzY3JvbGwtdG9wXCJdJ1xuICAgICk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcm91c2Vscy5sZW5ndGg7ICsraSkge1xuICAgICAgbmV3IFNjcm9sbFRvcChjYXJvdXNlbHNbaV0gYXMgSFRNTERpdkVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgY2xhc3MgU2hvd2Nhc2VDYXJvdXNlbCB7XG4gICAgY3VycmVudEluZGV4PzogbnVtYmVyO1xuXG4gICAgc2VjdGlvbjogSFRNTEVsZW1lbnQ7XG4gICAgY2Fyb3VzZWxDb250ZW50OiBIVE1MRWxlbWVudDtcbiAgICBjYXJvdXNlbFNsaWRlczogSFRNTENvbGxlY3Rpb247XG4gICAgY29udHJvbHNIYW5kbGVzOiBIVE1MQ29sbGVjdGlvbjtcbiAgICBjb250cm9sc0hhbmRsZVRpbWVyczogSFRNTENvbGxlY3Rpb247XG5cbiAgICB0aW1lcjogbnVtYmVyID0gMDtcbiAgICB0aW1lclJlZnJlc2hSYXRlID0gNjA7XG4gICAgdGltZXJEdXJhdGlvbiA9IDUgKiAxMDAwO1xuXG4gICAgY29uc3RydWN0b3Ioc2VjdGlvbjogSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgIHRoaXMuc2VjdGlvbiA9IHNlY3Rpb247XG4gICAgICB0aGlzLmNhcm91c2VsQ29udGVudCA9IHRoaXMuc2VjdGlvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgICBcInNob3djYXNlLWNhcm91c2VsLWNvbnRlbnRcIlxuICAgICAgKVswXSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgIHRoaXMuY2Fyb3VzZWxTbGlkZXMgPSB0aGlzLmNhcm91c2VsQ29udGVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgICBcInNob3djYXNlLWNhcm91c2VsLWNvbnRlbnQtc2xpZGVcIlxuICAgICAgKTtcbiAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVzID0gdGhpcy5zZWN0aW9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgIFwic2hvd2Nhc2UtY2Fyb3VzZWwtY29udHJvbHMtaGFuZGxlXCJcbiAgICAgICk7XG4gICAgICB0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzID0gdGhpcy5zZWN0aW9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgIFwic2hvd2Nhc2UtY2Fyb3VzZWwtY29udHJvbHMtaGFuZGxlLXRpbWVyXCJcbiAgICAgICk7XG5cbiAgICAgIC8vIFRPRE86IENoZWNrIGlmIHRoaXMgd29ya3MgbmljZWx5XG4gICAgICB0aGlzLmNhcm91c2VsQ29udGVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmluY3JlYXNlSW5kZXgoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmluaXRFbGVtZW50U3RhdGVzKCk7XG4gICAgICB0aGlzLmluaXRFdmVudExpc3RlbmVycygpO1xuICAgICAgdGhpcy5zZXRJbmRleCgwKTtcblxuICAgICAgdGhpcy50aW1lclRpY2soKTtcbiAgICB9XG5cbiAgICB0aW1lclRpY2soKSB7XG4gICAgICB0aGlzLnRpbWVyICs9IDEwMDAgLyB0aGlzLnRpbWVyUmVmcmVzaFJhdGU7XG5cbiAgICAgIGlmICh0aGlzLnRpbWVyID4gdGhpcy50aW1lckR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMudGltZXIgPSAwO1xuICAgICAgICB0aGlzLmluY3JlYXNlSW5kZXgoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVBY3RpdmVDb250cm9sSGFuZGxlKCk7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnRpbWVyVGljaygpO1xuICAgICAgfSwgMTAwMCAvIHRoaXMudGltZXJSZWZyZXNoUmF0ZSk7XG4gICAgfVxuXG4gICAgaW5pdEVsZW1lbnRTdGF0ZXMoKSB7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVUaW1lcnMsXG4gICAgICAgIChoYW5kbGVUaW1lcjogSFRNTEVsZW1lbnQpID0+IChoYW5kbGVUaW1lci5zdHlsZS5mbGV4R3JvdyA9IFwiMFwiKVxuICAgICAgKTtcbiAgICAgIFtdLmZvckVhY2guY2FsbChcbiAgICAgICAgdGhpcy5jYXJvdXNlbFNsaWRlcyxcbiAgICAgICAgKHNsaWRlOiBIVE1MRWxlbWVudCwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIC8vIEhpZGUgYWxsIGJ1dCB0aGUgZmlyc3QgYXBwIHNjcmVlblxuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgc2xpZGUuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbGlkZS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGluaXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIFtdLmZvckVhY2guY2FsbChcbiAgICAgICAgdGhpcy5jb250cm9sc0hhbmRsZXMsXG4gICAgICAgIChoYW5kbGU6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgaGFuZGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldEluZGV4KGluZGV4KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpbmNyZWFzZUluZGV4KCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmN1cnJlbnRJbmRleCA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuXG4gICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT09IHRoaXMuY29udHJvbHNIYW5kbGVUaW1lcnMubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aGlzLnNldEluZGV4KDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRJbmRleCh0aGlzLmN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldEluZGV4KGluZGV4OiBudW1iZXIpIHtcbiAgICAgIHRoaXMudGltZXIgPSAwO1xuICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgIHRoaXMudXBkYXRlQ29udHJvbHNIYW5kbGVzKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNhcm91c2VsQ29udGVudCgpO1xuICAgIH1cblxuICAgIHVwZGF0ZUFjdGl2ZUNvbnRyb2xIYW5kbGUoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuY3VycmVudEluZGV4ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICh0aGlzLmNvbnRyb2xzSGFuZGxlVGltZXJzW1xuICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4XG4gICAgICAgIF0gYXMgSFRNTERpdkVsZW1lbnQpLnN0eWxlLmZsZXhHcm93ID0gYCR7XG4gICAgICAgICAgKDEgLyB0aGlzLnRpbWVyRHVyYXRpb24pICogdGhpcy50aW1lclxuICAgICAgICB9YDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVDb250cm9sc0hhbmRsZXMoKSB7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVzLFxuICAgICAgICAoaGFuZGxlOiBIVE1MRWxlbWVudCwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIC8vIEhpZGUgYWxsIGJ1dCB0aGUgaGFuZGxlIHdpdGggdGhlIGN1cnJlbnQgaW5kZXhcbiAgICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMuY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICBoYW5kbGUuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICAgICAgaGFuZGxlLnN0eWxlLmhlaWdodCA9IFwiNjRweFwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGUuc3R5bGUub3BhY2l0eSA9IFwiMC40XCI7XG4gICAgICAgICAgICBoYW5kbGUuc3R5bGUuaGVpZ2h0ID0gXCI0OHB4XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICAvLyBTZXQgYWxsIHRpbWVycyB0byAwXG4gICAgICBbXS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIHRoaXMuY29udHJvbHNIYW5kbGVUaW1lcnMsXG4gICAgICAgIChoYW5kbGVUaW1lcjogSFRNTEVsZW1lbnQpID0+IChoYW5kbGVUaW1lci5zdHlsZS5mbGV4R3JvdyA9IFwiMFwiKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB1cGRhdGVDYXJvdXNlbENvbnRlbnQoKSB7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIHRoaXMuY2Fyb3VzZWxTbGlkZXMsXG4gICAgICAgIChzbGlkZTogSFRNTEVsZW1lbnQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAvLyBIaWRlIGFsbCBidXQgdGhlIHNsaWRlIHdpdGggdGhlIGN1cnJlbnQgaW5kZXhcbiAgICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMuY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICBzbGlkZS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNsaWRlLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgKHdpbmRvdyBhcyBhbnkpLlNob3djYXNlQ2Fyb3VzZWwgPSBTaG93Y2FzZUNhcm91c2VsO1xuXG4gIGFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICBjb25zdCBjYXJvdXNlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJ1tkYXRhLWNvbXBvbmVudD1cInNob3djYXNlLWNhcm91c2VsXCJdJ1xuICAgICk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcm91c2Vscy5sZW5ndGg7ICsraSkge1xuICAgICAgbmV3IFNob3djYXNlQ2Fyb3VzZWwoY2Fyb3VzZWxzW2ldIGFzIEhUTUxEaXZFbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=